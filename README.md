
# Operating System
Simple boot sector written in x86_64 Assembly

## Required packages
- make (For makefile)
- nasm (For compiling binary)
- qemu (For emulation)
- cdrtools (For generating ISO)

## Cloning and execution
#### Clone repository
```sh
git clone https://github.com/MananKarnik/operating-system.git
```

#### Change directory
```sh
cd operating-system
```

#### Compile binary
Uses nasm to compile to bin
```sh
make
```

#### Emulate
Uses qemu-x86_64 to emulate boot sector
```sh
make run
```

#### Generate ISO
ISO can be attached to virtualbox (not tested on hardware)
```sh
make iso
```

#### Delete generated files
Removes all iso and bin files generated by make
```sh
make clean
```

## Functions
#### printf
Prints a string using int 0x10. Move the string defined by db to si register.
```asm
mov     si, STRING
call    printf
```

#### printh
Prints a hexadeimal value (0x****). Move either a hexadecimal or memory address to dx register.
```asm
mov     dx, 0x****
call    printh
```

#### readDisk
Reads value from sector. Move number of sectors to read in al and the sector to be read in cl registers.
```asm
mov     al, 1
mov     cl, 2
call    readDisk
```
